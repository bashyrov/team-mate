<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Team Mate</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet" />
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container">
    <a class="navbar-brand" href="{% url 'projects:project_list' %}">Team Mate</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'projects:project_list' %}">Projects</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'projects:leaderboard' %}">Leaderboard</a>
        </li>
        {% if user.is_authenticated %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'projects:my_projects' %}">My Projects</a>
        </li>
         <li class="nav-item">
          <a class="nav-link" href="{% url 'projects:my_projects' %}">My Tasks</a>
        </li>
          <button type="button" class="btn btn-primary position-relative">
            Inbox
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
              99+
              <span class="visually-hidden">unread messages</span>
            </span>
          </button>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'projects:profile' user.pk %}">Profile</a>
        </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

<div class="container mt-4">
  {% block content %}{% endblock %}
</div>
<div class="container">
  <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top"> <p class="col-md-4 mb-0 text-body-secondary">
    © 2025 Company, Inc
  </p>
    <a href="/" class="col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none" aria-label="Bootstrap">
      <svg class="bi me-2" width="40" height="32" aria-hidden="true">
        <use xlink:href="#bootstrap"></use>
      </svg>
    </a>
    <ul class="nav col-md-4 justify-content-end">
      <li class="nav-item">
        <a href="{% url 'projects:project_list' %}" class="nav-link px-2 text-body-secondary">
          Projects
        </a>
      </li>
      <li class="nav-item">
        <a href="{% url 'projects:leaderboard' %}" class="nav-link px-2 text-body-secondary">
          Leaderboard
        </a>
      </li>
      <li class="nav-item">
        <a href="#" class="nav-link px-2 text-body-secondary">
          About
        </a>
      </li>
    </ul>
  </footer>
</div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Для ratingModal
const ratingModal = new bootstrap.Modal(document.getElementById('ratingModal'));

htmx.on('htmx:afterSwap', function(evt) {
  if (evt.detail.target.id === 'rating-dialog') {
    ratingModal.show();
  }
});

htmx.on('htmx:beforeSwap', function(evt) {
  if (evt.detail.target.id === 'rating-dialog' && evt.detail.xhr.status === 204) {
    ratingModal.hide();
    evt.detail.shouldSwap = false;
  }
});

htmx.on('hidden.bs.modal', function(evt) {
  if (evt.target.id === 'ratingModal') {
    document.getElementById('rating-dialog').querySelector('.modal-body').innerHTML = '';
  }
});
</script>
<script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
</body>
</html>
